<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `InodeFS` struct in crate `cplfs_sol`."><meta name="keywords" content="rust, rustlang, rust-lang, InodeFS"><title>cplfs_sol::b_inode_support::InodeFS - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled ><script src="../../storage.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="shortcut icon" href="../../favicon.ico"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc struct"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../../cplfs_sol/index.html'><div class='logo-container rust-logo'><img src='../../rust-logo.png' alt='logo'></div></a><p class='location'>Struct InodeFS</p><div class="sidebar-elems"><div class="block items"><a class="sidebar-title" href="#trait-implementations">Trait Implementations</a><div class="sidebar-links"><a href="#impl-BlockSupport">BlockSupport</a><a href="#impl-FileSysSupport">FileSysSupport</a><a href="#impl-InodeSupport">InodeSupport</a></div><a class="sidebar-title" href="#synthetic-implementations">Auto Trait Implementations</a><div class="sidebar-links"><a href="#impl-RefUnwindSafe">RefUnwindSafe</a><a href="#impl-Send">Send</a><a href="#impl-Sync">Sync</a><a href="#impl-Unpin">Unpin</a><a href="#impl-UnwindSafe">UnwindSafe</a></div><a class="sidebar-title" href="#blanket-implementations">Blanket Implementations</a><div class="sidebar-links"><a href="#impl-Any">Any</a><a href="#impl-Borrow%3CT%3E">Borrow&lt;T&gt;</a><a href="#impl-BorrowMut%3CT%3E">BorrowMut&lt;T&gt;</a><a href="#impl-From%3CT%3E">From&lt;T&gt;</a><a href="#impl-Into%3CU%3E">Into&lt;U&gt;</a><a href="#impl-TryFrom%3CU%3E">TryFrom&lt;U&gt;</a><a href="#impl-TryInto%3CU%3E">TryInto&lt;U&gt;</a></div></div><p class='location'><a href='../index.html'>cplfs_sol</a>::<wbr><a href='index.html'>b_inode_support</a></p><script>window.sidebarCurrent = {name: 'InodeFS', ty: 'struct', relpath: ''};</script><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><span class="help-button">?</span>
                <a id="settings-menu" href="../../settings.html"><img src="../../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../../src/cplfs_sol/b_inode_support.rs.html#50-52' title='goto source code'>[src]</a></span><span class='in-band'>Struct <a href='../index.html'>cplfs_sol</a>::<wbr><a href='index.html'>b_inode_support</a>::<wbr><a class="struct" href=''>InodeFS</a></span></h1><div class="docblock type-decl hidden-by-usual-hider"><pre class='rust struct'>pub struct InodeFS { /* fields omitted */ }</pre></div><div class='docblock'><p>Main struct file for the Inode File System</p>
</div><h2 id='trait-implementations' class='small-section-header'>Trait Implementations<a href='#trait-implementations' class='anchor'></a></h2><div id='trait-implementations-list'><h3 id='impl-BlockSupport' class='impl'><code class='in-band'>impl <a class="trait" href="../../cplfs_api/fs/trait.BlockSupport.html" title="trait cplfs_api::fs::BlockSupport">BlockSupport</a> for <a class="struct" href="../../cplfs_sol/b_inode_support/struct.InodeFS.html" title="struct cplfs_sol::b_inode_support::InodeFS">InodeFS</a></code><a href='#impl-BlockSupport' class='anchor'></a><a class='srclink' href='../../src/cplfs_sol/b_inode_support.rs.html#141-315' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='method.b_get' class="method hidden"><code>fn <a href='../../cplfs_api/fs/trait.BlockSupport.html#tymethod.b_get' class='fnname'>b_get</a>(&amp;self, i: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../cplfs_api/types/struct.Block.html" title="struct cplfs_api::types::Block">Block</a>, Self::<a class="type" href="../../cplfs_api/fs/trait.FileSysSupport.html#associatedtype.Error" title="type cplfs_api::fs::FileSysSupport::Error">Error</a>&gt;</code><a class='srclink' href='../../src/cplfs_sol/b_inode_support.rs.html#142-152' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Read the nth block of the entire disk and return it\ The implementation of this method should be trivial <a href="../../cplfs_api/fs/trait.BlockSupport.html#tymethod.b_get">Read more</a></p>
</div><h4 id='method.b_put' class="method hidden"><code>fn <a href='../../cplfs_api/fs/trait.BlockSupport.html#tymethod.b_put' class='fnname'>b_put</a>(&amp;mut self, b: &amp;<a class="struct" href="../../cplfs_api/types/struct.Block.html" title="struct cplfs_api::types::Block">Block</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, Self::<a class="type" href="../../cplfs_api/fs/trait.FileSysSupport.html#associatedtype.Error" title="type cplfs_api::fs::FileSysSupport::Error">Error</a>&gt;</code><a class='srclink' href='../../src/cplfs_sol/b_inode_support.rs.html#154-164' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Write the nth block of the entire disk and return it\ The implementation of this method should be trivial <a href="../../cplfs_api/fs/trait.BlockSupport.html#tymethod.b_put">Read more</a></p>
</div><h4 id='method.b_free' class="method hidden"><code>fn <a href='../../cplfs_api/fs/trait.BlockSupport.html#tymethod.b_free' class='fnname'>b_free</a>(&amp;mut self, i: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, Self::<a class="type" href="../../cplfs_api/fs/trait.FileSysSupport.html#associatedtype.Error" title="type cplfs_api::fs::FileSysSupport::Error">Error</a>&gt;</code><a class='srclink' href='../../src/cplfs_sol/b_inode_support.rs.html#166-208' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Free the ith block in the block data region, by setting the ith bit in the free bit map region to zero. To disambiguate the binary representation, we define the order of the bits within each byte you read from right to left, i.e. the byte '0b0000_0001' has its first bit set to one, i.e. has its bit with index 0 set to 1. Be careful not to change any bits for other blocks around the ith block by overwriting an entire byte in the free bit map region! Consider writing some auxiliary methods for more fine-grained access to <code>Block</code>s, by wrapping the provided block type in a different type. <a href="../../cplfs_api/fs/trait.BlockSupport.html#tymethod.b_free">Read more</a></p>
</div><h4 id='method.b_zero' class="method hidden"><code>fn <a href='../../cplfs_api/fs/trait.BlockSupport.html#tymethod.b_zero' class='fnname'>b_zero</a>(&amp;mut self, i: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, Self::<a class="type" href="../../cplfs_api/fs/trait.FileSysSupport.html#associatedtype.Error" title="type cplfs_api::fs::FileSysSupport::Error">Error</a>&gt;</code><a class='srclink' href='../../src/cplfs_sol/b_inode_support.rs.html#210-221' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Zeroes the ith block in the block data region in memory (without freeing it)\ Errors if the index i is out of bounds, i.e. if it is higher than the number of data blocks <a href="../../cplfs_api/fs/trait.BlockSupport.html#tymethod.b_zero">Read more</a></p>
</div><h4 id='method.b_alloc' class="method hidden"><code>fn <a href='../../cplfs_api/fs/trait.BlockSupport.html#tymethod.b_alloc' class='fnname'>b_alloc</a>(&amp;mut self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>, Self::<a class="type" href="../../cplfs_api/fs/trait.FileSysSupport.html#associatedtype.Error" title="type cplfs_api::fs::FileSysSupport::Error">Error</a>&gt;</code><a class='srclink' href='../../src/cplfs_sol/b_inode_support.rs.html#223-285' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Allocate the first free block, starting from the beginning, in the data block region, thereby setting its bit in the bitmap region to one and the entire contents of the block to zero. Again, you will need bit-wise operators to implement this function. Obviously, only blocks that have not been allocated yet, i.e. do not have their bit set, can still be allocated. Returns the index (within the data region) of the newly allocated block. Make sure to load each bitmap block only once in your implementation. Errors appropriately if no blocks are available. <a href="../../cplfs_api/fs/trait.BlockSupport.html#tymethod.b_alloc">Read more</a></p>
</div><h4 id='method.sup_get' class="method hidden"><code>fn <a href='../../cplfs_api/fs/trait.BlockSupport.html#tymethod.sup_get' class='fnname'>sup_get</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../cplfs_api/types/struct.SuperBlock.html" title="struct cplfs_api::types::SuperBlock">SuperBlock</a>, Self::<a class="type" href="../../cplfs_api/fs/trait.FileSysSupport.html#associatedtype.Error" title="type cplfs_api::fs::FileSysSupport::Error">Error</a>&gt;</code><a class='srclink' href='../../src/cplfs_sol/b_inode_support.rs.html#287-305' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Get the superblock describing the current file system</p>
</div><h4 id='method.sup_put' class="method hidden"><code>fn <a href='../../cplfs_api/fs/trait.BlockSupport.html#tymethod.sup_put' class='fnname'>sup_put</a>(&amp;mut self, sup: &amp;<a class="struct" href="../../cplfs_api/types/struct.SuperBlock.html" title="struct cplfs_api::types::SuperBlock">SuperBlock</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, Self::<a class="type" href="../../cplfs_api/fs/trait.FileSysSupport.html#associatedtype.Error" title="type cplfs_api::fs::FileSysSupport::Error">Error</a>&gt;</code><a class='srclink' href='../../src/cplfs_sol/b_inode_support.rs.html#307-314' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Write the superblock to this file system's underlying device (and cache it, depending on how you implement your file system) Note that in general, when you write to a block, you read the block first and then overwrite the parts you need to change before writing it back, to make sure all other parts of the block remain unchanged. In this case, that is not strictly necessary, as the superblock is the only useful thing that is stored on the first disk block. However, in case other data were to be stored past the superblock struct in the future, do implement this function in this conservative way. <a href="../../cplfs_api/fs/trait.BlockSupport.html#tymethod.sup_put">Read more</a></p>
</div></div><h3 id='impl-FileSysSupport' class='impl'><code class='in-band'>impl <a class="trait" href="../../cplfs_api/fs/trait.FileSysSupport.html" title="trait cplfs_api::fs::FileSysSupport">FileSysSupport</a> for <a class="struct" href="../../cplfs_sol/b_inode_support/struct.InodeFS.html" title="struct cplfs_sol::b_inode_support::InodeFS">InodeFS</a></code><a href='#impl-FileSysSupport' class='anchor'></a><a class='srclink' href='../../src/cplfs_sol/b_inode_support.rs.html#74-139' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='associatedtype.Error' class="type"><code>type <a href='../../cplfs_api/fs/trait.FileSysSupport.html#associatedtype.Error' class="type">Error</a> = <a class="enum" href="../../cplfs_sol/b_inode_support/enum.InodeFSError.html" title="enum cplfs_sol::b_inode_support::InodeFSError">InodeFSError</a></code></h4><div class='docblock'><p>The type of the errors of your implementation. Read more about how to define your own errors in the documentation of <code>error_given</code>. <a href="../../cplfs_api/fs/trait.FileSysSupport.html#associatedtype.Error">Read more</a></p>
</div><h4 id='method.sb_valid' class="method hidden"><code>fn <a href='../../cplfs_api/fs/trait.FileSysSupport.html#tymethod.sb_valid' class='fnname'>sb_valid</a>(sb: &amp;<a class="struct" href="../../cplfs_api/types/struct.SuperBlock.html" title="struct cplfs_api::types::SuperBlock">SuperBlock</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></code><a class='srclink' href='../../src/cplfs_sol/b_inode_support.rs.html#77-79' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Static method to check if a given superblock represents a valid file system. You will need this both when creating a new file system, and loading an existing one from disk <a href="../../cplfs_api/fs/trait.FileSysSupport.html#tymethod.sb_valid">Read more</a></p>
</div><h4 id='method.mkfs' class="method hidden"><code>fn <a href='../../cplfs_api/fs/trait.FileSysSupport.html#tymethod.mkfs' class='fnname'>mkfs</a>&lt;P:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/std/path/struct.Path.html" title="struct std::path::Path">Path</a>&gt;&gt;(path: P, sb: &amp;<a class="struct" href="../../cplfs_api/types/struct.SuperBlock.html" title="struct cplfs_api::types::SuperBlock">SuperBlock</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Self, Self::<a class="type" href="../../cplfs_api/fs/trait.FileSysSupport.html#associatedtype.Error" title="type cplfs_api::fs::FileSysSupport::Error">Error</a>&gt;</code><a class='srclink' href='../../src/cplfs_sol/b_inode_support.rs.html#81-116' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Method to create and mount a new file system from scratch, given a super block (which is a bit more convenient to work with than a bunch of parameters) and a path. What exactly this method does, depends on the level of abstraction you are implementing. <a href="../../cplfs_api/fs/trait.FileSysSupport.html#tymethod.mkfs">Read more</a></p>
</div><h4 id='method.mountfs' class="method hidden"><code>fn <a href='../../cplfs_api/fs/trait.FileSysSupport.html#tymethod.mountfs' class='fnname'>mountfs</a>(dev: <a class="struct" href="../../cplfs_api/controller/struct.Device.html" title="struct cplfs_api::controller::Device">Device</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Self, Self::<a class="type" href="../../cplfs_api/fs/trait.FileSysSupport.html#associatedtype.Error" title="type cplfs_api::fs::FileSysSupport::Error">Error</a>&gt;</code><a class='srclink' href='../../src/cplfs_sol/b_inode_support.rs.html#118-134' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Given an existing <code>Device</code> called <code>dev</code>, make sure that its image corresponds to a valid file system by reading its superblock and checking the following conditions: - The superblock is a valid superblock - The block size and number of blocks of the device and superblock agree <a href="../../cplfs_api/fs/trait.FileSysSupport.html#tymethod.mountfs">Read more</a></p>
</div><h4 id='method.unmountfs' class="method hidden"><code>fn <a href='../../cplfs_api/fs/trait.FileSysSupport.html#tymethod.unmountfs' class='fnname'>unmountfs</a>(self) -&gt; <a class="struct" href="../../cplfs_api/controller/struct.Device.html" title="struct cplfs_api::controller::Device">Device</a></code><a class='srclink' href='../../src/cplfs_sol/b_inode_support.rs.html#136-138' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Unmount the give file system, thereby consuming it Returns the image of the file system, i.e. the <code>Device</code> backing it. The implementation of this method should be almost trivial <a href="../../cplfs_api/fs/trait.FileSysSupport.html#tymethod.unmountfs">Read more</a></p>
</div></div><h3 id='impl-InodeSupport' class='impl'><code class='in-band'>impl <a class="trait" href="../../cplfs_api/fs/trait.InodeSupport.html" title="trait cplfs_api::fs::InodeSupport">InodeSupport</a> for <a class="struct" href="../../cplfs_sol/b_inode_support/struct.InodeFS.html" title="struct cplfs_sol::b_inode_support::InodeFS">InodeFS</a></code><a href='#impl-InodeSupport' class='anchor'></a><a class='srclink' href='../../src/cplfs_sol/b_inode_support.rs.html#317-455' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='associatedtype.Inode' class="type"><code>type <a href='../../cplfs_api/fs/trait.InodeSupport.html#associatedtype.Inode' class="type">Inode</a> = <a class="struct" href="../../cplfs_api/types/struct.Inode.html" title="struct cplfs_api::types::Inode">Inode</a></code></h4><div class='docblock'><p>The type you use for your inodes at runtime. Initially, you can probably get away with the inode type I provided. In the extensions, we can replace this type with a different type of inode that provides more flexibility (e.g. aliasing behavior, and a variable number of blocks) <a href="../../cplfs_api/fs/trait.InodeSupport.html#associatedtype.Inode">Read more</a></p>
</div><h4 id='method.i_get' class="method hidden"><code>fn <a href='../../cplfs_api/fs/trait.InodeSupport.html#tymethod.i_get' class='fnname'>i_get</a>(&amp;self, i: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Self::<a class="type" href="../../cplfs_api/fs/trait.InodeSupport.html#associatedtype.Inode" title="type cplfs_api::fs::InodeSupport::Inode">Inode</a>, Self::<a class="type" href="../../cplfs_api/fs/trait.FileSysSupport.html#associatedtype.Error" title="type cplfs_api::fs::FileSysSupport::Error">Error</a>&gt;</code><a class='srclink' href='../../src/cplfs_sol/b_inode_support.rs.html#320-340' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Read the disk inode with index <code>i</code> and wrap it into an inode object. Should error if <code>i</code> is greater than the number of inodes in the system. <a href="../../cplfs_api/fs/trait.InodeSupport.html#tymethod.i_get">Read more</a></p>
</div><h4 id='method.i_put' class="method hidden"><code>fn <a href='../../cplfs_api/fs/trait.InodeSupport.html#tymethod.i_put' class='fnname'>i_put</a>(&amp;mut self, ino: &amp;Self::<a class="type" href="../../cplfs_api/fs/trait.InodeSupport.html#associatedtype.Inode" title="type cplfs_api::fs::InodeSupport::Inode">Inode</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, Self::<a class="type" href="../../cplfs_api/fs/trait.FileSysSupport.html#associatedtype.Error" title="type cplfs_api::fs::FileSysSupport::Error">Error</a>&gt;</code><a class='srclink' href='../../src/cplfs_sol/b_inode_support.rs.html#342-361' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Write the given inode back to the disk at the correct position</p>
</div><h4 id='method.i_free' class="method hidden"><code>fn <a href='../../cplfs_api/fs/trait.InodeSupport.html#tymethod.i_free' class='fnname'>i_free</a>(&amp;mut self, i: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, Self::<a class="type" href="../../cplfs_api/fs/trait.FileSysSupport.html#associatedtype.Error" title="type cplfs_api::fs::FileSysSupport::Error">Error</a>&gt;</code><a class='srclink' href='../../src/cplfs_sol/b_inode_support.rs.html#363-400' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Similar to b_free, but now for inodes instead of data blocks. A big difference is that this method should only free an inode if it is no longer referenced anywhere else in the file system, i.e. if its <code>nlink</code> field is equal to zero. In this case, the $i$th inode in the inode region is freed by setting its <code>ft</code> field to <code>TFree</code>. Additionally, all valid blocks belonging to this file, listed in its <code>direct_blocks</code> array, have to be deallocated (and set to address 0) as well. In case <code>nlink</code> is not equal to zero, this method does nothing. Returns an error if <code>i</code> does not correspond to an inode number, or if the inode is already free. <a href="../../cplfs_api/fs/trait.InodeSupport.html#tymethod.i_free">Read more</a></p>
</div><h4 id='method.i_alloc' class="method hidden"><code>fn <a href='../../cplfs_api/fs/trait.InodeSupport.html#tymethod.i_alloc' class='fnname'>i_alloc</a>(&amp;mut self, ft: <a class="enum" href="../../cplfs_api/types/enum.FType.html" title="enum cplfs_api::types::FType">FType</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>, Self::<a class="type" href="../../cplfs_api/fs/trait.FileSysSupport.html#associatedtype.Error" title="type cplfs_api::fs::FileSysSupport::Error">Error</a>&gt;</code><a class='srclink' href='../../src/cplfs_sol/b_inode_support.rs.html#402-438' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Similar to b_alloc, but now for inodes instead of data Allocates the first free <code>dinode</code> (i.e. lowest <code>inum</code>) it comes across, and sets (on disk):  - this inode's <code>FType</code> to <code>ft</code>  - this inode's <code>size</code> and <code>nlink</code> fields to 0, as it currently has no blocks and is not referenced in the file system The inode with index 0 should never be allocated. Errors appropriately if no inodes are available Only read each inode block once in your implementation <a href="../../cplfs_api/fs/trait.InodeSupport.html#tymethod.i_alloc">Read more</a></p>
</div><h4 id='method.i_trunc' class="method hidden"><code>fn <a href='../../cplfs_api/fs/trait.InodeSupport.html#tymethod.i_trunc' class='fnname'>i_trunc</a>(&amp;mut self, inode: &amp;mut Self::<a class="type" href="../../cplfs_api/fs/trait.InodeSupport.html#associatedtype.Inode" title="type cplfs_api::fs::InodeSupport::Inode">Inode</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, Self::<a class="type" href="../../cplfs_api/fs/trait.FileSysSupport.html#associatedtype.Error" title="type cplfs_api::fs::FileSysSupport::Error">Error</a>&gt;</code><a class='srclink' href='../../src/cplfs_sol/b_inode_support.rs.html#440-454' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Truncate the given <code>inode</code>, i.e. release its contents (without freeing it). Sets all of the given inode's <code>direct_blocks</code> to point to address 0. Releases all blocks <code>direct_blocks</code> belonging to this inode, and sets its <code>size</code> to 0. Changes both the given <code>inode</code> and the corresponding inode on the disk. Note that only the valid blocks should be released as only these are allocated. In other words, do not blindly release all values listed in the <code>direct_blocks</code> field <a href="../../cplfs_api/fs/trait.InodeSupport.html#tymethod.i_trunc">Read more</a></p>
</div></div></div><h2 id='synthetic-implementations' class='small-section-header'>Auto Trait Implementations<a href='#synthetic-implementations' class='anchor'></a></h2><div id='synthetic-implementations-list'><h3 id='impl-RefUnwindSafe' class='impl'><code class='in-band'>impl <a class="trait" href="https://doc.rust-lang.org/nightly/std/panic/trait.RefUnwindSafe.html" title="trait std::panic::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="../../cplfs_sol/b_inode_support/struct.InodeFS.html" title="struct cplfs_sol::b_inode_support::InodeFS">InodeFS</a></code><a href='#impl-RefUnwindSafe' class='anchor'></a></h3><div class='impl-items'></div><h3 id='impl-Send' class='impl'><code class='in-band'>impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="../../cplfs_sol/b_inode_support/struct.InodeFS.html" title="struct cplfs_sol::b_inode_support::InodeFS">InodeFS</a></code><a href='#impl-Send' class='anchor'></a></h3><div class='impl-items'></div><h3 id='impl-Sync' class='impl'><code class='in-band'>impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="../../cplfs_sol/b_inode_support/struct.InodeFS.html" title="struct cplfs_sol::b_inode_support::InodeFS">InodeFS</a></code><a href='#impl-Sync' class='anchor'></a></h3><div class='impl-items'></div><h3 id='impl-Unpin' class='impl'><code class='in-band'>impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="../../cplfs_sol/b_inode_support/struct.InodeFS.html" title="struct cplfs_sol::b_inode_support::InodeFS">InodeFS</a></code><a href='#impl-Unpin' class='anchor'></a></h3><div class='impl-items'></div><h3 id='impl-UnwindSafe' class='impl'><code class='in-band'>impl <a class="trait" href="https://doc.rust-lang.org/nightly/std/panic/trait.UnwindSafe.html" title="trait std::panic::UnwindSafe">UnwindSafe</a> for <a class="struct" href="../../cplfs_sol/b_inode_support/struct.InodeFS.html" title="struct cplfs_sol::b_inode_support::InodeFS">InodeFS</a></code><a href='#impl-UnwindSafe' class='anchor'></a></h3><div class='impl-items'></div></div><h2 id='blanket-implementations' class='small-section-header'>Blanket Implementations<a href='#blanket-implementations' class='anchor'></a></h2><div id='blanket-implementations-list'><h3 id='impl-Any' class='impl'><code class='in-band'>impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html" title="trait core::any::Any">Any</a> for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: 'static + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></code><a href='#impl-Any' class='anchor'></a><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/any.rs.html#108-112' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='method.type_id' class="method hidden"><code>fn <a href='https://doc.rust-lang.org/nightly/core/any/trait.Any.html#tymethod.type_id' class='fnname'>type_id</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/any/struct.TypeId.html" title="struct core::any::TypeId">TypeId</a></code><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/any.rs.html#109-111' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Gets the <code>TypeId</code> of <code>self</code>. <a href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html#tymethod.type_id">Read more</a></p>
</div></div><h3 id='impl-Borrow%3CT%3E' class='impl'><code class='in-band'>impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></code><a href='#impl-Borrow%3CT%3E' class='anchor'></a><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#210-214' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='method.borrow' class="method hidden"><code>fn <a href='https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html#tymethod.borrow' class='fnname'>borrow</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;</a>T</code><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#211-213' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Immutably borrows from an owned value. <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html#tymethod.borrow">Read more</a></p>
</div></div><h3 id='impl-BorrowMut%3CT%3E' class='impl'><code class='in-band'>impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></code><a href='#impl-BorrowMut%3CT%3E' class='anchor'></a><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#217-221' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='method.borrow_mut' class="method hidden"><code>fn <a href='https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut' class='fnname'>borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>T</code><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#218-220' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Mutably borrows from an owned value. <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></p>
</div></div><h3 id='impl-From%3CT%3E' class='impl'><code class='in-band'>impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for T</code><a href='#impl-From%3CT%3E' class='anchor'></a><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#570-574' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='method.from' class="method hidden"><code>fn <a href='https://doc.rust-lang.org/nightly/core/convert/trait.From.html#tymethod.from' class='fnname'>from</a>(t: T) -&gt; T</code><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#571-573' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Performs the conversion.</p>
</div></div><h3 id='impl-Into%3CU%3E' class='impl'><code class='in-band'>impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt;,&nbsp;</span></code><a href='#impl-Into%3CU%3E' class='anchor'></a><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#559-566' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='method.into' class="method hidden"><code>fn <a href='https://doc.rust-lang.org/nightly/core/convert/trait.Into.html#tymethod.into' class='fnname'>into</a>(self) -&gt; U</code><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#563-565' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Performs the conversion.</p>
</div></div><h3 id='impl-TryFrom%3CU%3E' class='impl'><code class='in-band'>impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;T&gt;,&nbsp;</span></code><a href='#impl-TryFrom%3CU%3E' class='anchor'></a><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#607-616' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='associatedtype.Error-1' class="type"><code>type <a href='https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error' class="type">Error</a> = <a class="enum" href="https://doc.rust-lang.org/nightly/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></code></h4><div class='docblock'><p>The type returned in the event of a conversion error.</p>
</div><h4 id='method.try_from' class="method hidden"><code>fn <a href='https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#tymethod.try_from' class='fnname'>try_from</a>(value: U) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</code><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#613-615' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Performs the conversion.</p>
</div></div><h3 id='impl-TryInto%3CU%3E' class='impl'><code class='in-band'>impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html" title="trait core::convert::TryInto">TryInto</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;,&nbsp;</span></code><a href='#impl-TryInto%3CU%3E' class='anchor'></a><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#593-602' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='associatedtype.Error-2' class="type"><code>type <a href='https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html#associatedtype.Error' class="type">Error</a> = &lt;U as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a></code></h4><div class='docblock'><p>The type returned in the event of a conversion error.</p>
</div><h4 id='method.try_into' class="method hidden"><code>fn <a href='https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html#tymethod.try_into' class='fnname'>try_into</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</code><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#599-601' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Performs the conversion.</p>
</div></div></div></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../../";window.currentCrate = "cplfs_sol";</script><script src="../../main.js"></script><script defer src="../../search-index.js"></script></body></html>