<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `fs` mod in crate `cplfs_api`."><meta name="keywords" content="rust, rustlang, rust-lang, fs"><title>cplfs_api::fs - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled ><script src="../../storage.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="shortcut icon" href="../../favicon.ico"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../../cplfs_api/index.html'><div class='logo-container rust-logo'><img src='../../rust-logo.png' alt='logo'></div></a><p class='location'>Module fs</p><div class="sidebar-elems"><div class="block items"><ul><li><a href="#traits">Traits</a></li></ul></div><p class='location'><a href='../index.html'>cplfs_api</a></p><script>window.sidebarCurrent = {name: 'fs', ty: 'mod', relpath: '../'};</script><script defer src="../sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><span class="help-button">?</span>
                <a id="settings-menu" href="../../settings.html"><img src="../../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../../src/cplfs_api/fs.rs.html#1-382' title='goto source code'>[src]</a></span><span class='in-band'>Module <a href='../index.html'>cplfs_api</a>::<wbr><a class="mod" href=''>fs</a></span></h1><div class='docblock'><p>Collection of all traits you will be implementing throughout the different assignments
Each file system must at least implement the <code>FileSysSupport</code> trait.
Do not just blindly implement the below traits; in most cases, it is a good idea to define auxiliary functions, to e.g. figure out in what block inode $i$ is stored, how many directory entries fit in a block, or to read a specific byte from a block.
Make sure your implementation provides auxiliary functions for repetitive tasks like these.
You might need to wrap (some of) the types I provided in the API into your own types, to be able to define additional behavior on them.</p>
</div><h2 id='traits' class='section-header'><a href="#traits">Traits</a></h2>
<table><tr class='module-item'><td><a class="trait" href="trait.BlockSupport.html" title='cplfs_api::fs::BlockSupport trait'>BlockSupport</a></td><td class='docblock-short'><p>This trait adds block-level operations to your file system
Do not forget to make sure that <code>mkfs</code> now correctly initializes all inodes, as described above.</p>
</td></tr><tr class='module-item'><td><a class="trait" href="trait.DirectorySupport.html" title='cplfs_api::fs::DirectorySupport trait'>DirectorySupport</a></td><td class='docblock-short'><p>This trait adds the abstraction of directories and their entries to the file system
Additionally, it supports some convenience methods that allow you to use directory entries with string names (the reason these methods are defined here and not in a trait, is to avoid forcing you to wrap the <code>DirEntry</code> type in another type of your own).
Do not forget to make sure that <code>mkfs</code> now defines a valid (currently empty) root directory.</p>
</td></tr><tr class='module-item'><td><a class="trait" href="trait.FileSysSupport.html" title='cplfs_api::fs::FileSysSupport trait'>FileSysSupport</a></td><td class='docblock-short'><p>General trait that each filesystem should implement, that allows us to set up, tear down and load file systems in the tests
Additionally, this trait also defines the error type that is used in all of the other traits (which will require implementing this trait)
Be warned that the implementation of this trait cannot be kept the same throughout the assignment!
Depending on the abstractions your current file system is aware of, it might impose more strict conditions when loading a file system, and might perform extra steps when defining one.
For example, when implementing the block layer for your file system, it should not create a root inode as part of <code>mkfs</code>, and neither should it check for one when mounting an existing file system. These steps should only be implemented at higher levels of abstraction.
In other words, you should <em>not</em> have one blanket implementation of this trait for your entire project, and it will be beneficial to you when e.g. defining the inode abstraction, to take your solution from the block layer, including its implementation of this trait, and create a wrapper around it that (re)implements this and any other relevant traits, so that you can delegate calls to this trait to the wrapped object, and define extra steps on top of them.</p>
</td></tr><tr class='module-item'><td><a class="trait" href="trait.InodeCacheSupport.html" title='cplfs_api::fs::InodeCacheSupport trait'>InodeCacheSupport</a></td><td class='docblock-short'><p>Support caching for inodes. Read more about what exactly this entails in assignment <a href="../../cplwm_sol/g_caching_inodes/index.html"><code>g_caching_inodes.rs</code></a> in the solution folder.</p>
</td></tr><tr class='module-item'><td><a class="trait" href="trait.InodeRWSupport.html" title='cplfs_api::fs::InodeRWSupport trait'>InodeRWSupport</a></td><td class='docblock-short'><p>This trait additionally provides support to read and write from inodes using buffers; the data structure that we used before to hold the contents of a <code>Block</code>.
The reason we use <code>Buffer</code>s objects and not simply the raw data, is because <code>Buffer</code>s also support some methods relating to (de)serialization, which might come in handy in some situations.
We ignore arithmetic over- and underflow in the following functions, for reasons of simplicity.</p>
</td></tr><tr class='module-item'><td><a class="trait" href="trait.InodeSupport.html" title='cplfs_api::fs::InodeSupport trait'>InodeSupport</a></td><td class='docblock-short'><p>This trait adds the abstraction of inodes to your file system.
Do not forget that <code>mkfs</code> should now result in a filesystem where each inode is marked as free.
Note that this trait does not yet support ways of growing inodes.
Growing inodes will become possible when you implement the read and write calls on them in one of the optional assignments.</p>
</td></tr><tr class='module-item'><td><a class="trait" href="trait.PathSupport.html" title='cplfs_api::fs::PathSupport trait'>PathSupport</a></td><td class='docblock-short'><p>Enhance the previous directory support with a notion of file paths (both absolute and relative), enabling the following:</p>
</td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../../";window.currentCrate = "cplfs_api";</script><script src="../../main.js"></script><script defer src="../../search-index.js"></script></body></html>