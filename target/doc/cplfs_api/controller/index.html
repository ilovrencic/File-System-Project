<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `controller` mod in crate `cplfs_api`."><meta name="keywords" content="rust, rustlang, rust-lang, controller"><title>cplfs_api::controller - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled ><script src="../../storage.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="shortcut icon" href="../../favicon.ico"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../../cplfs_api/index.html'><div class='logo-container rust-logo'><img src='../../rust-logo.png' alt='logo'></div></a><p class='location'>Module controller</p><div class="sidebar-elems"><div class="block items"><ul><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li></ul></div><p class='location'><a href='../index.html'>cplfs_api</a></p><script>window.sidebarCurrent = {name: 'controller', ty: 'mod', relpath: '../'};</script><script defer src="../sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><span class="help-button">?</span>
                <a id="settings-menu" href="../../settings.html"><img src="../../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../../src/cplfs_api/controller.rs.html#1-390' title='goto source code'>[src]</a></span><span class='in-band'>Module <a href='../index.html'>cplfs_api</a>::<wbr><a class="mod" href=''>controller</a></span></h1><div class='docblock'><p>Implementation of a physical disk and a very simple device controller for it.
The device and its contents are represented by a file in your file system, that is memory mapped and stored in a Device struct.
When initializing the controller, you have to provide it with either a path to a non-existing file, which will then be created and used as the contents of your device, or to an existing file, which will be opened and the contents of which will be checked.
Provides a basic block read and write operation on a device at a given offset.
The memory-mapped file is what the read and write functions operate on.</p>
<p><em>EXTRA</em>: Note that this explicit block-level abstraction is not required for a file system at this level of abstraction, but added it to make our model a more realistic representation of a real-life file system.
No provisions have been made to properly lock and unlock the file that is used to back the file system, so do not fiddle with it while a file system is running, as this leads to undefined behavior. (e.g. the fs2 crate could be used to explicitly implement locking, if so desired)</p>
</div><h2 id='structs' class='section-header'><a href="#structs">Structs</a></h2>
<table><tr class='module-item'><td><a class="struct" href="struct.Device.html" title='cplfs_api::controller::Device struct'>Device</a></td><td class='docblock-short'><p>Struct representing the state of a hard drive disk (HDD).
The implementation of this structure is the controller that allows us to read disk blocks from the disk, and write disk blocks to the disk.</p>
</td></tr></table><h2 id='enums' class='section-header'><a href="#enums">Enums</a></h2>
<table><tr class='module-item'><td><a class="enum" href="enum.DiskState.html" title='cplfs_api::controller::DiskState enum'>DiskState</a></td><td class='docblock-short'><p>Small enum, used to specify whether we expect to open a new file system</p>
</td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../../";window.currentCrate = "cplfs_api";</script><script src="../../main.js"></script><script defer src="../../search-index.js"></script></body></html>